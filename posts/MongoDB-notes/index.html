<!doctype html>














<!-- `site.alt_lang` can specify a language different from the UI -->
<html lang="en" >
  <!-- The Head -->

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta
    name="viewport"
    content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
  >

  

  

  
    <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.3.2" />
<meta property="og:title" content="Notes on MongoDB" />
<meta property="og:locale" content="en" />
<meta name="description" content="Introduction to MongoDB" />
<meta property="og:description" content="Introduction to MongoDB" />
<link rel="canonical" href="http://shivrajbadu.com.np/posts/MongoDB-notes/" />
<meta property="og:url" content="http://shivrajbadu.com.np/posts/MongoDB-notes/" />
<meta property="og:site_name" content="Let’s code" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-08-30T09:23:58+05:45" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Notes on MongoDB" />
<meta name="twitter:site" content="@shivrajbadu" />
<meta name="google-site-verification" content="1V6mjFi-H5goXTGWpdsB7z6Mcve5NUvIpvzaQJGxOtA# fill in to your verification string" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-12-25T01:01:47+05:45","datePublished":"2019-08-30T09:23:58+05:45","description":"Introduction to MongoDB","headline":"Notes on MongoDB","mainEntityOfPage":{"@type":"WebPage","@id":"http://shivrajbadu.com.np/posts/MongoDB-notes/"},"url":"http://shivrajbadu.com.np/posts/MongoDB-notes/"}</script>
<!-- End Jekyll SEO tag -->

  

  <title>Notes on MongoDB | Let's code
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">
<link rel="manifest" href="/assets/img/favicons/site.webmanifest">
<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="Let's code">
<meta name="application-name" content="Let's code">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  
    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin>
    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://cdn.jsdelivr.net" >
      <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
    

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap">
  

  <!-- GA -->
  

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.2/css/all.min.css">

  <link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css">

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.21.3/dist/tocbot.min.css">
  

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css">
  

  
    <!-- Manific Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css">
  

  <!-- JavaScript -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-6361630351328078",
        enable_page_level_ads: true
    });
  </script>  
  <script async src="https://fundingchoicesmessages.google.com/i/pub-6361630351328078?ers=1" nonce="g4MyGBz15HP-B7XHadZyyQ"></script><script nonce="g4MyGBz15HP-B7XHadZyyQ">(function() {function signalGooglefcPresent() {if (!window.frames['googlefcPresent']) {if (document.body) {const iframe = document.createElement('iframe'); iframe.style = 'width: 0; height: 0; border: none; z-index: -1000; left: -1000px; top: -1000px;'; iframe.style.display = 'none'; iframe.name = 'googlefcPresent'; document.body.appendChild(iframe);} else {setTimeout(signalGooglefcPresent, 0);}}}signalGooglefcPresent();})();</script>

  
    <!-- Switch the mode between dark and light. -->

<script type="text/javascript">
  class ModeToggle {
    static get MODE_KEY() {
      return 'mode';
    }
    static get MODE_ATTR() {
      return 'data-mode';
    }
    static get DARK_MODE() {
      return 'dark';
    }
    static get LIGHT_MODE() {
      return 'light';
    }
    static get ID() {
      return 'mode-toggle';
    }

    constructor() {
      if (this.hasMode) {
        if (this.isDarkMode) {
          if (!this.isSysDarkPrefer) {
            this.setDark();
          }
        } else {
          if (this.isSysDarkPrefer) {
            this.setLight();
          }
        }
      }

      let self = this;

      /* always follow the system prefers */
      this.sysDarkPrefers.addEventListener('change', () => {
        if (self.hasMode) {
          if (self.isDarkMode) {
            if (!self.isSysDarkPrefer) {
              self.setDark();
            }
          } else {
            if (self.isSysDarkPrefer) {
              self.setLight();
            }
          }

          self.clearMode();
        }

        self.notify();
      });
    } /* constructor() */

    get sysDarkPrefers() {
      return window.matchMedia('(prefers-color-scheme: dark)');
    }

    get isSysDarkPrefer() {
      return this.sysDarkPrefers.matches;
    }

    get isDarkMode() {
      return this.mode === ModeToggle.DARK_MODE;
    }

    get isLightMode() {
      return this.mode === ModeToggle.LIGHT_MODE;
    }

    get hasMode() {
      return this.mode != null;
    }

    get mode() {
      return sessionStorage.getItem(ModeToggle.MODE_KEY);
    }

    /* get the current mode on screen */
    get modeStatus() {
      if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) {
        return ModeToggle.DARK_MODE;
      } else {
        return ModeToggle.LIGHT_MODE;
      }
    }

    setDark() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE);
    }

    setLight() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE);
    }

    clearMode() {
      document.documentElement.removeAttribute(ModeToggle.MODE_ATTR);
      sessionStorage.removeItem(ModeToggle.MODE_KEY);
    }

    /* Notify another plugins that the theme mode has changed */
    notify() {
      window.postMessage(
        {
          direction: ModeToggle.ID,
          message: this.modeStatus
        },
        '*'
      );
    }

    flipMode() {
      if (this.hasMode) {
        if (this.isSysDarkPrefer) {
          if (this.isLightMode) {
            this.clearMode();
          } else {
            this.setLight();
          }
        } else {
          if (this.isDarkMode) {
            this.clearMode();
          } else {
            this.setDark();
          }
        }
      } else {
        if (this.isSysDarkPrefer) {
          this.setLight();
        } else {
          this.setDark();
        }
      }

      this.notify();
    } /* flipMode() */
  } /* ModeToggle */

  const modeToggle = new ModeToggle();
</script>

  

  <!-- A placeholder to allow defining custom metadata -->


</head>

  <body>
    <!-- The Side Bar -->

<aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end">
  <header class="profile-wrapper">
    <a href="/" id="avatar" class="rounded-circle">
      
        
        <img src="/assets/img/profile.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'">
      
    </a>

    <h1 class="site-title">
      <a href="/">Let's code</a>
    </h1>
    <p class="site-subtitle fst-italic mb-0">Dive into the World of Code - Exploring Various Programming Languages</p>
  </header>
  <!-- .profile-wrapper -->

  <nav class="flex-column flex-grow-1 w-100 ps-0">
    <ul class="nav">
      <!-- home -->
      <li class="nav-item">
        <a href="/" class="nav-link">
          <i class="fa-fw fas fa-home"></i>
          <span>HOME</span>
        </a>
      </li>
      <!-- the real tabs -->
      
        <li class="nav-item">
          <a href="/categories/" class="nav-link">
            <i class="fa-fw fas fa-stream"></i>
            

            <span>CATEGORIES</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/tags/" class="nav-link">
            <i class="fa-fw fas fa-tags"></i>
            

            <span>TAGS</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/archives/" class="nav-link">
            <i class="fa-fw fas fa-archive"></i>
            

            <span>ARCHIVES</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/about/" class="nav-link">
            <i class="fa-fw fas fa-info-circle"></i>
            

            <span>ABOUT</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/privacy/" class="nav-link">
            <i class="fa-fw fas fa-lock"></i>
            

            <span>PRIVACY POLICY</span>
          </a>
        </li>
        <!-- .nav-item -->
      
    </ul>
  </nav>

  <div class="sidebar-bottom d-flex flex-wrap  align-items-center w-100">
    
      <button type="button" class="mode-toggle btn" aria-label="Switch Mode">
        <i class="fas fa-adjust"></i>
      </button>

      
        <span class="icon-border"></span>
      
    

    
      

      
        <a
          href="https://github.com/userrails"
          aria-label="github"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-github"></i>
        </a>
      
    
      

      
        <a
          href="https://twitter.com/shivrajbadu"
          aria-label="twitter"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fa-brands fa-x-twitter"></i>
        </a>
      
    
      

      
        <a
          href="javascript:location.href = 'mailto:' + ['shivrajbadu','gmail.com'].join('@')"
          aria-label="email"
          

          

          

          
        >
          <i class="fas fa-envelope"></i>
        </a>
      
    
      

      
        <a
          href="/feed.xml"
          aria-label="rss"
          

          

          

          
        >
          <i class="fas fa-rss"></i>
        </a>
      
    
  </div>
  <!-- .sidebar-bottom -->
</aside>
<!-- #sidebar -->


    <div id="main-wrapper" class="d-flex justify-content-center">
      <div class="container d-flex flex-column px-xxl-5">
        <!-- The Top Bar -->

<header id="topbar-wrapper" aria-label="Top Bar">
  <div
    id="topbar"
    class="d-flex align-items-center justify-content-between px-lg-3 h-100"
  >
    <nav id="breadcrumb" aria-label="Breadcrumb">
      

      
        
          
            <span>
              <a href="/">
                Home
              </a>
            </span>

          
        
          
        
          
            
              <span>Notes on MongoDB</span>
            

          
        
      
    </nav>
    <!-- endof #breadcrumb -->

    <button type="button" id="sidebar-trigger" class="btn btn-link">
      <i class="fas fa-bars fa-fw"></i>
    </button>

    <div id="topbar-title">
      Post
    </div>

    <button type="button" id="search-trigger" class="btn btn-link">
      <i class="fas fa-search fa-fw"></i>
    </button>

    <search class="align-items-center ms-3 ms-lg-0">
      <i class="fas fa-search fa-fw"></i>
      <input
        class="form-control"
        id="search-input"
        type="search"
        aria-label="search"
        autocomplete="off"
        placeholder="Search..."
      >
    </search>
    <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button>
  </div>
</header>


        <div class="row flex-grow-1">
          <main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              <!-- Refactor the HTML structure -->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Change the icon of checkbox -->



<!-- Handle images -->





<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  




<!-- return -->




<article class="px-1">
  <header>
    <h1 data-toc-skip>Notes on MongoDB</h1>

    <div class="post-meta text-muted">
      <!-- published date -->
      <span>
        Posted
        <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1567136338"
  data-df="ll"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  Aug 30, 2019
</time>

      </span>

      <!-- lastmod date -->
      
        <span>
          Updated
          <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1703445407"
  data-df="ll"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  Dec 25, 2023
</time>

        </span>
      

      

      <div class="d-flex justify-content-between">
        <!-- author(s) -->
        <span>
          

          By

          <em>
            
              <a href="https://twitter.com/shivrajbadu">Shivraj Badu</a>
            
          </em>
        </span>

        <!-- read time -->
        <!-- Calculate the post's reading time, and display the word count in tooltip -->



<!-- words per minute -->










<!-- return element -->
<span
  class="readtime"
  data-bs-toggle="tooltip"
  data-bs-placement="bottom"
  title="2163 words"
>
  <em>12 min</em> read</span>

      </div>
      <!-- .d-flex -->
    </div>
    <!-- .post-meta -->
  </header>

  <div class="content">
    <h4 id="introduction-to-mongodb"><span class="me-2">Introduction to MongoDB</span><a href="#introduction-to-mongodb" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>MongoDB is a open source document-oriented NoSQL database used for high volume data storage. 
If database is not already created switch to the database and insert data into it, this way database is created.
Each record in a MongoDB collection is a document. MongoDB collections are like table and documents are like rows of the relational databases.</p>

<h2 id="create-database"><span class="me-2">Create Database</span><a href="#create-database" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>use NewDatabase # switched to db NewDatabase
db.products.insert({name: 'product', price: 20}) # Create a collection name as products with new document as a record
</pre></td></tr></tbody></table></code></div></div>

<h2 id="view-database-and-collections"><span class="me-2">View database and collections</span><a href="#view-database-and-collections" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre>&gt; show dbs;

admin
config
local
NewDatabase

&gt; use NewDatabase

switched to db NewDatabase

&gt; show collections

products
</pre></td></tr></tbody></table></code></div></div>

<h2 id="delete-database"><span class="me-2">Delete Database</span><a href="#delete-database" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>&gt; db.dropDatabase()

{ "dropped" : "NewDatabase", "ok" : 1 }
</pre></td></tr></tbody></table></code></div></div>

<h2 id="crud-operations"><span class="me-2">Crud operations</span><a href="#crud-operations" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<h5 id="insert-a-single-document"><span class="me-2">Insert a Single Document</span><a href="#insert-a-single-document" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h5>

<p>db.collection.insertOne() inserts a single document into a collection.</p>

<p>MongoDB adds the _id field with an ObjectId value to the new document.</p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre>db.customers.insertOne(
    {
        profile_name: 'customer name',
        email: 'email@example.com',
        age: 32,
        tags: ["regular"],
        full_name: { first_name: 'firstname', mid_name: 'midname', last_name: 'last_name' }
    }
)
</pre></td></tr></tbody></table></code></div></div>
<h4 id="when-you-run-the-above-command-you-will-get-following-output"><span class="me-2">when you run the above command, you will get following output</span><a href="#when-you-run-the-above-command-you-will-get-following-output" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>
<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>{
	"acknowledged" : true,
	"insertedId" : ObjectId("5d6ccbfda82b6d69714cebeb")
}
</pre></td></tr></tbody></table></code></div></div>

<h5 id="insert-multiple-documents"><span class="me-2">Insert multiple documents</span><a href="#insert-multiple-documents" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h5>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>db.collection.insertMany()
</pre></td></tr></tbody></table></code></div></div>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre></td><td class="rouge-code"><pre>db.customers.insertMany(
    [
        {
          profile_name: 'customer name 2',
          email: 'email10@example.com',
          age: 22,
          tags: ["regular"],
          full_name: { first_name: 'firstname2', mid_name: 'midname2', last_name: 'last_name2' }
        },
        {
          profile_name: 'customer name 3',
          email: 'email11@example.com',
          age: 22,
          tags: ["regular"],
          full_name: { first_name: 'firstname3', mid_name: 'midname3', last_name: 'last_name3' }
        },
        {
          profile_name: 'customer name 4',
          email: 'email12@example.com',
          age: 22,
          tags: ["regular"],
          full_name: { first_name: 'firstname4', mid_name: 'midname4', last_name: 'last_name4' }
        }
    ]
)
</pre></td></tr></tbody></table></code></div></div>

<p>=&gt; output when executing above query</p>
<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre>{
	"acknowledged" : true,
	"insertedIds" : [
		ObjectId("5d6ccdf9a82b6d69714cebec"),
		ObjectId("5d6ccdf9a82b6d69714cebed"),
		ObjectId("5d6ccdf9a82b6d69714cebee")
	]
}

</pre></td></tr></tbody></table></code></div></div>

<h5 id="view-record"><span class="me-2">View Record</span><a href="#view-record" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h5>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>&gt; db.customers.find({profile_name: 'customer name'})
{ "_id" : ObjectId("5d6ccbfda82b6d69714cebeb"), "profile_name" : "customer name", "email" : "email@example.com", "age" : 32, "tags" : [ "regular" ], "full_name" : { "first_name" : "firstname", "mid_name" : "midname", "last_name" : "last_name" } }
</pre></td></tr></tbody></table></code></div></div>

<h1 id="multiple-matched-records">multiple matched records</h1>
<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>&gt; db.customers.find({age: 22})
{ "_id" : ObjectId("5d6ccdf9a82b6d69714cebee"), "profile_name" : "customer name 4", "email" : "email4@example.com", "age" : 22, "tags" : [ "regular" ], "full_name" : { "first_name" : "firstname4", "mid_name" : "midname4", "last_name" : "last_name4" } }
{ "_id" : ObjectId("5d6cd0eb68f1285dc9559364"), "profile_name" : "customer name 2", "email" : "email10@example.com", "age" : 22, "tags" : [ "regular" ], "full_name" : { "first_name" : "firstname2", "mid_name" : "midname2", "last_name" : "last_name2" } }
{ "_id" : ObjectId("5d6cd0eb68f1285dc9559365"), "profile_name" : "customer name 3", "email" : "email11@example.com", "age" : 22, "tags" : [ "regular" ], "full_name" : { "first_name" : "firstname3", "mid_name" : "midname3", "last_name" : "last_name3" } }
{ "_id" : ObjectId("5d6cd0eb68f1285dc9559366"), "profile_name" : "customer name 4", "email" : "email12@example.com", "age" : 22, "tags" : [ "regular" ], "full_name" : { "first_name" : "firstname4", "mid_name" : "midname4", "last_name" : "last_name4" } }
</pre></td></tr></tbody></table></code></div></div>

<blockquote>
  <p>db.customers.find({profile_name: “customer name 4”})</p>
  <div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>{ "_id" : ObjectId("5d6ccdf9a82b6d69714cebee"), "profile_name" : "customer name 4", "email" : "email4@example.com", "age" : 22, "tags" : [ "regular" ], "full_name" : { "first_name" : "firstname4", "mid_name" : "midname4", "last_name" : "last_name4" } }
{ "_id" : ObjectId("5d6cd0eb68f1285dc9559366"), "profile_name" : "customer name 4", "email" : "email12@example.com", "age" : 22, "tags" : [ "regular" ], "full_name" : { "first_name" : "firstname4", "mid_name" : "midname4", "last_name" : "last_name4" } }
</pre></td></tr></tbody></table></code></div>  </div>
</blockquote>

<blockquote>
  <p>db.customers.find({profile_name: “customer name 4”, “email”: “email4@example.com”})</p>
  <div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>{ "_id" : ObjectId("5d6ccdf9a82b6d69714cebee"), "profile_name" : "customer name 4", "email" : "email4@example.com", "age" : 22, "tags" : [ "regular" ], "full_name" : { "first_name" : "firstname4", "mid_name" : "midname4", "last_name" : "last_name4" } }
</pre></td></tr></tbody></table></code></div>  </div>
</blockquote>

<blockquote>
  <p>db.customers.find({profile_name: “customer name 4”}).limit(1)</p>
  <div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>{ "_id" : ObjectId("5d6ccdf9a82b6d69714cebee"), "profile_name" : "customer name 4", "email" : "email4@example.com", "age" : 22, "tags" : [ "regular" ], "full_name" : { "first_name" : "firstname4", "mid_name" : "midname4", "last_name" : "last_name4" } }
</pre></td></tr></tbody></table></code></div>  </div>
</blockquote>

<h4 id="show-all-records"><span class="me-2">Show all records</span><a href="#show-all-records" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>
<blockquote>
  <p>db.customers.find()</p>
  <div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre>{ "_id" : ObjectId("5d6ccbfda82b6d69714cebeb"), "profile_name" : "customer name", "email" : "email@example.com", "age" : 32, "tags" : [ "regular" ], "full_name" : { "first_name" : "firstname", "mid_name" : "midname", "last_name" : "last_name" } }
{ "_id" : ObjectId("5d6ccdf9a82b6d69714cebec"), "profile_name" : "customer name 2", "email" : "email2@example.com", "age" : 30, "tags" : [ "regular" ], "full_name" : { "first_name" : "firstname2", "mid_name" : "midname2", "last_name" : "last_name2" } }
{ "_id" : ObjectId("5d6ccdf9a82b6d69714cebed"), "profile_name" : "customer name 3", "email" : "email3@example.com", "age" : 36, "tags" : [ "regular" ], "full_name" : { "first_name" : "firstname3", "mid_name" : "midname3", "last_name" : "last_name3" } }
{ "_id" : ObjectId("5d6ccdf9a82b6d69714cebee"), "profile_name" : "customer name 4", "email" : "email4@example.com", "age" : 22, "tags" : [ "regular" ], "full_name" : { "first_name" : "firstname4", "mid_name" : "midname4", "last_name" : "last_name4" } }
{ "_id" : ObjectId("5d6cd0eb68f1285dc9559364"), "profile_name" : "customer name 2", "email" : "email10@example.com", "age" : 22, "tags" : [ "regular" ], "full_name" : { "first_name" : "firstname2", "mid_name" : "midname2", "last_name" : "last_name2" } }
{ "_id" : ObjectId("5d6cd0eb68f1285dc9559365"), "profile_name" : "customer name 3", "email" : "email11@example.com", "age" : 22, "tags" : [ "regular" ], "full_name" : { "first_name" : "firstname3", "mid_name" : "midname3", "last_name" : "last_name3" } }
{ "_id" : ObjectId("5d6cd0eb68f1285dc9559366"), "profile_name" : "customer name 4", "email" : "email12@example.com", "age" : 22, "tags" : [ "regular" ], "full_name" : { "first_name" : "firstname4", "mid_name" : "midname4", "last_name" : "last_name4" } }
</pre></td></tr></tbody></table></code></div>  </div>
</blockquote>

<h2 id="upsert-option-updateone-updatemany-replaceone"><span class="me-2">Upsert Option (updateOne(), updateMany(), replaceOne())</span><a href="#upsert-option-updateone-updatemany-replaceone" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<h4 id="replace-a-record-except-an-id-field"><span class="me-2">Replace a record except an ID field</span><a href="#replace-a-record-except-an-id-field" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>db.customers.replaceOne({email: 'email@example.com'}, {"profile_name" : "customer name", "email" : "email@example.com", "age" : 15, "tags" : [ "nonregular" ], "full_name" : { "first_name" : "firstname", "mid_name" : "midname", "last_name" : "last_name" }})
</pre></td></tr></tbody></table></code></div></div>

<p><code class="language-plaintext highlighter-rouge">{ "acknowledged" : true, "matchedCount" : 1, "modifiedCount" : 1 }</code></p>

<p>When you search the record which is just updated, you will notice update has been made:</p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>db.customers.find({email: 'email@example.com'})
{ "_id" : ObjectId("5d6ccbfda82b6d69714cebeb"), "profile_name" : "customer name", "email" : "email@example.com", "age" : 15, "tags" : [ "nonregular" ], "full_name" : { "first_name" : "firstname", "mid_name" : "midname", "last_name" : "last_name" } }
</pre></td></tr></tbody></table></code></div></div>

<h4 id="update-a-record-execpt-an-id-field"><span class="me-2">Update a record execpt an ID field</span><a href="#update-a-record-execpt-an-id-field" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>First track the record you want to update</p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>&gt; db.customers.find({email: 'email2@example.com'})

{ "_id" : ObjectId("5d6ccdf9a82b6d69714cebec"), "profile_name" : "customer name 2", "email" : "email2@example.com", "age" : 30, "tags" : [ "regular" ], "full_name" : { "first_name" : "firstname2", "mid_name" : "midname2", "last_name" : "last_name2" } }
&gt;
</pre></td></tr></tbody></table></code></div></div>

<p>Apply Update command</p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>&gt; db.customers.updateOne({email: 'email2@example.com'}, {$set: {"profile_name": 'customer name 2 updated', "full_name.last_name": "last_name2 updated", tags: ["regular updated"]}})

{ "acknowledged" : true, "matchedCount" : 1, "modifiedCount" : 1 }
</pre></td></tr></tbody></table></code></div></div>

<p>Now check the record and you will notice the record is updated</p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>&gt; db.customers.find({email: 'email2@example.com'})

{ "_id" : ObjectId("5d6ccdf9a82b6d69714cebec"), "profile_name" : "customer name 2 updated", "email" : "email2@example.com", "age" : 30, "tags" : [ "regular updated" ], "full_name" : { "first_name" : "firstname2", "mid_name" : "midname2", "last_name" : "last_name2 updated" } }
</pre></td></tr></tbody></table></code></div></div>

<p>Add lastModified field when you update the record which will add new column</p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre>&gt; db.customers.updateOne({email: 'email2@example.com'}, {$set: {"profile_name": 'customer name 2 updated', "full_name.last_name": "last_name2 updated", tags: ["regular updated"]}, $currentDate: { lastModified: true }})

{ "_id" : ObjectId("5d6ccdf9a82b6d69714cebec"), "profile_name" : "customer name 2 updated", "email" : "email2@example.com", "age" : 30, "tags" : [ "regular updated" ], "full_name" : { "first_name" : "firstname2", "mid_name" : "midname2", "last_name" : "last_name2 updated" }, "lastModified" : ISODate("2019-09-02T08:55:35.114Z") }
``1

The update action involves following operations:

uses the $set operator to update the value of the size.uom field to "cm" and the value of the status field to "P",
uses the $currentDate operator to update the value of the lastModified field to the current date. If lastModified field does not exist, $currentDate will create the field. See $currentDate for details.


#### UpdateMany

Update all the documents where age is greater than 22

</pre></td></tr></tbody></table></code></div></div>
<p>db.customers.updateMany(
    {
        “age”: { $gt: 22 }
    },
    {
        $set: { “tags”: “Multiple Update”, active: “true” },
        $currentDate: { lastModified: true }
    }
)</p>
<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>&gt;&gt; { "acknowledged" : true, "matchedCount" : 2, "modifiedCount" : 2 }

Now it's time to check updated record:

</pre></td></tr></tbody></table></code></div></div>
<blockquote>
  <p>db.customers.find({“age”: {$gt: 22}})
{ “_id” : ObjectId(“5d6ccdf9a82b6d69714cebec”), “profile_name” : “customer name 2 updated”, “email” : “email2@example.com”, “age” : 30, “tags” : “Multiple Update”, “full_name” : { “first_name” : “firstname2”, “mid_name” : “midname2”, “last_name” : “last_name2 updated” }, “lastModified” : ISODate(“2019-09-02T12:56:37.700Z”), “active” : “true” }
{ “_id” : ObjectId(“5d6ccdf9a82b6d69714cebed”), “profile_name” : “customer name 3”, “email” : “email3@example.com”, “age” : 36, “tags” : “Multiple Update”, “full_name” : { “first_name” : “firstname3”, “mid_name” : “midname3”, “last_name” : “last_name3” }, “active” : “true”, “lastModified” : ISODate(“2019-09-02T12:56:37.700Z”) }
```</p>
</blockquote>

<h4 id="some-other-options"><span class="me-2">Some other options:</span><a href="#some-other-options" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>
<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>db.collection.findOneAndReplace().
db.collection.findOneAndUpdate().
db.collection.findAndModify().
db.collection.save().
db.collection.bulkWrite()
</pre></td></tr></tbody></table></code></div></div>

<h4 id="delete-document-deleteone-deletemany"><span class="me-2">Delete document (deleteOne(), deleteMany())</span><a href="#delete-document-deleteone-deletemany" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>Delete only one record no matter multiple records for this profile name exists</p>
<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>&gt; db.customers.deleteOne({profile_name: 'profile name'})

o/p =&gt; { "acknowledged" : true, "deletedCount" : 1 }
</pre></td></tr></tbody></table></code></div></div>

<p>Delete many records at once</p>
<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>&gt; db.customers.deleteMany({profile_name: 'profile name 1'})
o/p =&gt; { "acknowledged" : true, "deletedCount" : 4 }
</pre></td></tr></tbody></table></code></div></div>

<h3 id="bulk-write-with-bulkwrite"><span class="me-2">Bulk Write with bulkWrite()</span><a href="#bulk-write-with-bulkwrite" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
</pre></td><td class="rouge-code"><pre>try {
    db.customers.bulkWrite([
        { insertOne: { "document": {
                        profile_name: 'foo bar',
                        email: 'foo@shivrajbadu.com.np',
                        age: 29,
                        tags: ["regular"],
                        full_name: { first_name: 'shiv', mid_name: 'raj', last_name: 'badu' }
                    }
                }
            },
            { insertOne: { "document": {
                    profile_name: 'foo baz',
                    email: 'baz@shivrajbadu.com.np',
                    age: 25,
                    tags: ["regular"],
                    full_name: { first_name: 'foo', mid_name: 'bar', last_name: 'baz' }
                    }
                }
            },
            { updateOne: {
                    "filter" : { email: 'email10@example.com' },
                    "update" : { $set: {"profile_name": 'new name', tags: ["irregular"], "full_name.first_name": "fn", "full_name.mid_name": "mn", "full_name.last_name": "ln" } }
                }
            },
            { deleteOne: {
                    "filter": { profile_name: 'customer name' }
                }
            },
            { replaceOne: { 
                "filter": { email: 'email@example.com' },
                "replacement": { "profile_name": 'profile name', "email": 'email@example.com', "age": 14, "tags": ["irregular"], "full_name": { "first_name": "fn", "last_name": "ln", "mid_name": "mn" }  }
             } }
        ]);
} catch (e) {
    print(e);
}
</pre></td></tr></tbody></table></code></div></div>

<h4 id="text-search"><span class="me-2">Text Search</span><a href="#text-search" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>To perform text search use <code class="language-plaintext highlighter-rouge">text index</code> and $text operator, <code class="language-plaintext highlighter-rouge">text</code> indexes can include any field whose value is a string or an array of string elements. To perform text search queries, you must have a <code class="language-plaintext highlighter-rouge">text</code> index on your collection. A collection can only have one text search index, but that index can conver multiple fields.</p>

<p>If index is not found you will get following error message:</p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre>Error: error: {
	"ok" : 0,
	"errmsg" : "text index required for $text query",
	"code" : 27,
	"codeName" : "IndexNotFound"
}
</pre></td></tr></tbody></table></code></div></div>
<p>So, you need to create Index first</p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>db.customers.createIndex({
    profile_name: "text",
    email: "text"
})
</pre></td></tr></tbody></table></code></div></div>
<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>db.customers.find({
    $text: {
        $search: "myemail@shivrajbadu.com.np"
    }
})
</pre></td></tr></tbody></table></code></div></div>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>db.customers.aggregate(
    [
        { $match: { $text: { $search: "first name" } } }
    ]
)
</pre></td></tr></tbody></table></code></div></div>

<p>To get exact match result of searched text</p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>db.customers.aggregate(
    [
        { $match: { $text: { $search: "\"customer name replaced\"" } } }
    ]
)
</pre></td></tr></tbody></table></code></div></div>

<h3 id="references"><span class="me-2">References</span><a href="#references" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre>user document             contact document                            articles document
-------------             -----------------                          -----------------
{                         {                                            {
    _id: &lt;ObjectId1&gt;,        _id: &lt;ObjectId2&gt;,                            _id: &lt;ObjectId3&gt;,
    username: 'xyz'           user_id: &lt;ObjectId1&gt;,                       user_id: &lt;ObjectId1&gt;,
}                             phone: '9852525252',                        title: 'first article',
                              email: 'contact@shivrajbadu.com.np'         body: 'article body'
                          }                                            }
</pre></td></tr></tbody></table></code></div></div>

<h3 id="one-to-one-relationships-with-embedded-documents"><span class="me-2">One-to-One Relationships with Embedded Documents</span><a href="#one-to-one-relationships-with-embedded-documents" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<h4 id="contact-document-contains-a-reference-to-the-user-document"><span class="me-2">Contact document contains a reference to the User document.</span><a href="#contact-document-contains-a-reference-to-the-user-document" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<p>User Document</p>
<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre>{
    _id: "unique_id",
    username: 'uniquename'
}

Contact Document
</pre></td></tr></tbody></table></code></div></div>
<p>{
    _id: “ObjectId(“5d6df862e1b6226e35c6c519”)”,
    _user_id: “unique_id”,
    phone: “8585858585”,
    email: “contact@shivrajbadu.com.np”
}</p>
<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>
### One-to-Many Relationships with Embedded Documents
In the normalized data model, the articles documents contain a reference to the user document.

User Document
</pre></td></tr></tbody></table></code></div></div>
<p>{
    _id: “unique_id”,
    username: ‘uniquename’
}</p>

<p>Article Document</p>
<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre>{
    _id: "ObjectId("5d6df9b5e1b6226e35c6c522")",
    _user_id: "unique_id",
    title: "This is a title.",
    body: "This is a description."
}

{
    _id: "ObjectId("9e7df9b5e1b6226e35c6c435")",
    _user_id: "unique_id",
    title: "This is another title.",
    body: "This is description for another title."
}
</pre></td></tr></tbody></table></code></div></div>

<p>When implement one to many relationships, many child records will have many child document records so multiple queries need to be issued to resolve the references, we can also use another solution to make single query as shown below:</p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="rouge-code"><pre>{
    _id: "unique_id",
    username: 'uniquename',
    articles: [
        {
            _id: "ObjectId("5d6df9b5e1b6226e35c6c522")",
            _user_id: "unique_id",
            title: "This is a title.",
            body: "This is a description."
        },
        {
            _id: "ObjectId("9e7df9b5e1b6226e35c6c435")",
            _user_id: "unique_id",
            title: "This is another title.",
            body: "This is description for another title."
        }
    ]
}
</pre></td></tr></tbody></table></code></div></div>

  </div>

  <div class="post-tail-wrapper text-muted">
    <!-- categories -->
    
      <div class="post-meta mb-3">
        <i class="far fa-folder-open fa-fw me-1"></i>
        
          <a href="/categories/mongodb/">MongoDB</a>,
          <a href="/categories/data-operation/">Data Operation</a>
      </div>
    

    <!-- tags -->
    
      <div class="post-tags">
        <i class="fa fa-tags fa-fw me-1"></i>
        
          <a
            href="/tags/mongodb/"
            class="post-tag no-text-decoration"
          >mongodb</a>
        
          <a
            href="/tags/data-operation/"
            class="post-tag no-text-decoration"
          >data_operation</a>
        
      </div>
    

    <div
      class="
        post-tail-bottom
        d-flex justify-content-between align-items-center mt-5 pb-2
      "
    >
      <div class="license-wrapper">
        
          

          This post is licensed under 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
         by the author.
        
      </div>

      <!-- Post sharing snippet -->

<div class="share-wrapper d-flex align-items-center">
  <span class="share-label text-muted">Share</span>
  <span class="share-icons">
    
    
    

    

      

      <a href="https://twitter.com/intent/tweet?text=Notes%20on%20MongoDB%20-%20Let's%20code&url=http%3A%2F%2Fshivrajbadu.com.np%2Fposts%2FMongoDB-notes%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter">
        <i class="fa-fw fa-brands fa-square-x-twitter"></i>
      </a>
    

      

      <a href="https://www.facebook.com/sharer/sharer.php?title=Notes%20on%20MongoDB%20-%20Let's%20code&u=http%3A%2F%2Fshivrajbadu.com.np%2Fposts%2FMongoDB-notes%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook">
        <i class="fa-fw fab fa-facebook-square"></i>
      </a>
    

      

      <a href="https://t.me/share/url?url=http%3A%2F%2Fshivrajbadu.com.np%2Fposts%2FMongoDB-notes%2F&text=Notes%20on%20MongoDB%20-%20Let's%20code" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram">
        <i class="fa-fw fab fa-telegram"></i>
      </a>
    

    <button
      id="copy-link"
      aria-label="Copy link"
      class="btn small"
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="Copy link"
      data-title-succeed="Link copied successfully!"
    >
      <i class="fa-fw fas fa-link pe-none fs-6"></i>
    </button>
  </span>
</div>

    </div>
    <!-- .post-tail-bottom -->
  </div>
  <!-- div.post-tail-wrapper -->
</article>


            
          </main>

          <!-- panel -->
          <aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 mb-5 text-muted">
            <div class="access">
              <!-- Get the last 5 posts from lastmod list. -->














  <section id="access-lastmod">
    <h2 class="panel-heading">Recently Updated</h2>
    <ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2">
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/Rails-app-with-MongoDB/">How to create Rails application with MongoDB?</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/metaprogramming-in-ruby/">Metaprogramming in Ruby</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/jquery/">JQuery</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/elastic-search-with-searchkick/">Elastic Search with Searchkick</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/elastic-search/">Elastic Search</a>
        </li>
      
    </ul>
  </section>
  <!-- #access-lastmod -->


              <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/ruby/">ruby</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/ruby-on-rails/">ruby on rails</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/elastic-search/">elastic_search</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/mongodb/">mongodb</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/ai/">AI</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/introduction/">introduction</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/variable/">variable</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/active-record/">active_record</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/arrays/">arrays</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/association/">association</a>
      
    </div>
  </section>


            </div>

            
              
              



  <section id="toc-wrapper" class="ps-0 pe-4">
    <h2 class="panel-heading ps-3 pt-2 mb-2">Contents</h2>
    <nav id="toc"></nav>
  </section>


            
          </aside>
        </div>

        <div class="row">
          <!-- tail -->
          <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              
              <!-- Recommend the other 3 posts according to the tags and categories of the current post. -->

<!-- The total size of related posts -->


<!-- An random integer that bigger than 0 -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy} -->














  

  

  

  

  

  

  

  
    
  

  

  

  

  

  











  <aside id="related-posts" aria-labelledby="related-label">
    <h3 class="mb-4" id="related-label">Further Reading</h3>
    <nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4">
      
        <article class="col">
          <a href="/posts/MongoDB-installation/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1567049938"
  data-df="ll"
  
>
  Aug 29, 2019
</time>

              <h4 class="pt-0 my-2">How to install MongoDB on Ubuntu 18.04?</h4>
              <div class="text-muted">
                <p>
                  





                  Install MongoDB Community Edition on Unbuntu 18.04 (Bionic)

Import the MongoDB public GPG Key from https://www.mongodb.org/static/pgp/server-4.2.asc
wget -qO - https://www.mongodb.org/static/pgp/s...
                </p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/Rails-app-with-MongoDB/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1567136338"
  data-df="ll"
  
>
  Aug 30, 2019
</time>

              <h4 class="pt-0 my-2">How to create Rails application with MongoDB?</h4>
              <div class="text-muted">
                <p>
                  





                  Setup Rails 5 with mongoid gem

At first we need to install MongoDB in our system, the steps to install MongoDB is descripted in my previous blog. Confirm mongoDB is installed by browsing http://lo...
                </p>
              </div>
            </div>
          </a>
        </article>
      
    </nav>
  </aside>
  <!-- #related-posts -->


            
              
              <!-- Navigation buttons at the bottom of the post. -->

<nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation">
  
  

  
    <a
      href="/posts/MongoDB-installation/"
      class="btn btn-outline-primary"
      aria-label="Older"
    >
      <p>How to install MongoDB on Ubuntu 18.04?</p>
    </a>
  

  
    <a
      href="/posts/Rails-app-with-MongoDB/"
      class="btn btn-outline-primary"
      aria-label="Newer"
    >
      <p>How to create Rails application with MongoDB?</p>
    </a>
  
</nav>

            
              
              <!--  The comments switcher -->


            

            <!-- The Footer -->

<footer
  aria-label="Site Info"
  class="
    d-flex flex-column justify-content-center text-muted
    flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3
  "
>
  <p>
    ©
    <time>2024</time>
    <a href="https://twitter.com/shivrajbadu">Shivraj Badu</a>.
    
      <span
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author."
      >Some rights reserved.</span>
    
  </p>

  <p>Using the <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.
  </p>
</footer>

          </div>
        </div>

        <!-- The Search results -->

<div id="search-result-wrapper" class="d-flex justify-content-center unloaded">
  <div class="col-11 content">
    <div id="search-hints">
      <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/ruby/">ruby</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/ruby-on-rails/">ruby on rails</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/elastic-search/">elastic_search</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/mongodb/">mongodb</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/ai/">AI</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/introduction/">introduction</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/variable/">variable</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/active-record/">active_record</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/arrays/">arrays</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/association/">association</a>
      
    </div>
  </section>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>

      </div>

      <aside aria-label="Scroll to Top">
        <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow">
          <i class="fas fa-angle-up"></i>
        </button>
      </aside>
    </div>

    <div id="mask"></div>

    
      <aside
  id="notification"
  class="toast"
  role="alert"
  aria-live="assertive"
  aria-atomic="true"
  data-bs-animation="true"
  data-bs-autohide="false"
>
  <div class="toast-header">
    <button
      type="button"
      class="btn-close ms-auto"
      data-bs-dismiss="toast"
      aria-label="Close"
    ></button>
  </div>
  <div class="toast-body text-center pt-0">
    <p class="px-2 mb-3">A new version of content is available.</p>
    <button type="button" class="btn btn-primary" aria-label="Update">
      Update
    </button>
  </div>
</aside>

    

    <!-- JavaScripts -->

    <!-- JS selector for site. -->

<!-- commons -->



<!-- layout specified -->


  

  
    <!-- image lazy-loading & popup & clipboard -->
    
  















  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  



  <script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.7.1/dist/jquery.min.js,npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js,npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.10/dayjs.min.js,npm/dayjs@1.11.10/locale/en.min.js,npm/dayjs@1.11.10/plugin/relativeTime.min.js,npm/dayjs@1.11.10/plugin/localizedFormat.min.js,npm/tocbot@4.21.3/dist/tocbot.min.js"></script>






<script defer src="/assets/js/dist/post.min.js"></script>






    

    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script>
  /* Note: dependent library will be loaded in `js-selector.html` */
  SimpleJekyllSearch({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('search-results'),
    json: '/assets/js/data/search.json',
    searchResultTemplate: '  <article class="px-1 px-sm-2 px-lg-4 px-xl-0">    <header>      <h2><a href="{url}">{title}</a></h2>      <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">        {categories}        {tags}      </div>    </header>    <p>{snippet}</p>  </article>',
    noResultsText: '<p class="mt-5"></p>',
    templateMiddleware: function(prop, value, template) {
      if (prop === 'categories') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
        }
      }

      if (prop === 'tags') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
        }
      }
    }
  });
</script>

  </body>
</html>

